
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Using a template plugin for jQuery to parse JSON data</title>
    
    <meta name="author" content="Peter Gerritsen">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Peter Gerritsen’s blog</a>
          <ul class="nav">
            
            
            


  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="page-header">
  <h1>Using a template plugin for jQuery to parse JSON data </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>13 March 2009</span>
    </div>
    <div class="content">
      <p>When you’re building an AJAX control in .Net there a a few possibilities. One of them is using AJAX.Net updatepanels. This saves you from writing tedious javascript code to refresh parts of you page. With the arrival of javascript libraries such as jQuery it’s much easier to create the AJAX functionality you want with javascript. However, you still have to write quite a lot of DOM manipulation code and use string concatenation to process any JSON results and render the correct HTML.</p>

<p>Fortunately some javascript template engines are developed to make this easier. These engines come in all shapes and sizes, ranging from engines with an own templating syntax to simple data binding engines.</p>

<p>On the first side of the spectrum, there are engines such as <a href='http://jtemplates.tpython.com/'>jTemplates</a>, this one uses python like syntax to create the instructions. On the other end engines like <a href='http://wiki.github.com/raid-ox/chain.js'>Chain.js</a> and <a href='http://beebole.com/pure/'>PURE</a> live, these can be considered more a databinding egines. The last ones make use of classnames for the databinding, like in the following Chain.js example:</p>

<p><code>html
&lt;div id=&quot;quickdemo&quot;&gt;
	&lt;div class=&quot;item&quot;&gt;
		&lt;span class=&quot;library&quot;&gt;Library Name&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;
</code> <code>javascript
$(&#39;#quickdemo&#39;).items( [
		{library:&#39;Prototype&#39;},
		{library:&#39;jQuery&#39;},
		{library:&#39;Dojo&#39;},
		{library:&#39;MooTools&#39;}
	]).chain();
</code></p>

<p>In this case the library field in the JSON objects is put into the element with “library” in de classname. The nice thing about Chain.js is the fact that it monitors the items collection for changes. Adding or removing items from script, automatically updates the generated HTML. So filtering and sorting can be very easily accomplished, some very easy to follow examples are available on the companion website.</p>

<p>PURE uses the same classnames based system for the databinding. Consider the following example:</p>

<p><code>html
&lt;ol class=&quot;siteList reference@id&quot;&gt;
	&lt;li class=&quot;sites&quot;&gt;
		&lt;a class=&quot;name url@href&quot; href=&quot;http://beebole.com&quot;&gt;Beebole&lt;/a&gt;
	&lt;/li&gt;
&lt;/ol&gt;
</code> <code>javascript
var data = {
	&quot;reference&quot;: &quot;3456&quot;,
	&quot;sites&quot;: [{
			&quot;name&quot;: &quot;Beebole&quot;,
			&quot;url&quot;: &quot;http://beebole.com&quot;
		},
		{
			&quot;name&quot;: &quot;BeeLit&quot;,
			&quot;url&quot;: &quot;http://beeLit.com&quot;
		},
		{
			&quot;name&quot;: &quot;PURE&quot;,
			&quot;url&quot;: http://beebole.com/pure
		}]
	};
$(&#39;ol.siteList&#39;).autoRender(data);
</code></p>

<p>The <em>url@href</em> and <em>reference@id</em> classnames provide a way to set attributes of the databound elements.</p>

<p>But what if you don’t want to decorate your HTML elements with extra classnames to support the databinding? Or you want to handle some events of the generated elements?</p>

<p>For this PURE supports directives. You create your directives and pass them into the autoRender or render functions. Consider the following example:</p>

<p><code>html
&lt;div style=&quot;display: none;&quot; id=&quot;bpvcategorytemplate&quot;&gt;
	&lt;ul&gt;
		&lt;li class=&quot;context&quot;&gt;
			&lt;a category=&quot;&quot; class=&quot;context context@category&quot; href=&quot;#&quot;&gt;laden...&lt;/a&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;
</code> <code>javascript
function showProductCategories()
{
    $.getJSON(bpvweburl + &quot;/_layouts/ecabointranet2009/bpv.ashx&quot;, {type: &quot;categories&quot;}, function(data)
    {
        var categoriescontainer = $(&quot;#bpvcategoriescontainer&quot;);
        categoriescontainer.empty();
        var list = categoriescontainer.append($(&quot;#bpvcategorytemplate&quot;).html());
        var directive = {&#39;a.context[onclick]&#39; : &#39;&quot;showProducts(this); return false;&quot;&#39;}
        list.autoRender( data, directive );
    });
}
</code></p>

<p>Here we get some JSON from a handler, put the html from the template into a new element, and bind the JSON to that template. When binding the JSON data, we attach a javascript function to the onclick event of the generated anchor tags.</p>

<p>Much more can be accomplished by using directives, such as creating an alternating row style by setting a class during the binding of the items. For more information about using directives in PURE, read <a href='http://wiki.github.com/pure/pure/what-is-a-directive'>this</a> page.</p>

<p>There are loads more things possible in PURE or in the other engines, the best way to find out is to read the docs and try some things out.</p>
    </div>

    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#AJAX-ref">AJAX <span>5</span></a></li>
     
    	<li><a href="/tags.html#JavaScript-ref">JavaScript <span>4</span></a></li>
     
    	<li><a href="/tags.html#jQuery-ref">jQuery <span>7</span></a></li>
    
  



    </ul>
    

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/2009/02/26/moss-search-and-browser-languages" title="MOSS Search and browser languages">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/2009/03/24/jquery-performance-optimization-tips" title="jQuery performance optimization tips">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    var disqus_identifier = '564 http://username.github.io/?p=564';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
</div>


      </div>
      <hr>
      <footer>
        <p>&copy; 2013 Peter Gerritsen
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div>

    
  </body>
</html>

